\documentclass[a4paper,notitlepage]{article}
\usepackage{authblk}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{minted}
\usepackage{siunitx}
\usepackage{url}
\begin{document}
\title{The theory of Light Emitting Diode (LED) reversing attacks}
\author{Joe Loughry}
\affil{University of Denver \\
Ritchie School of Engineering and Computer Science\footnote{Email
\href{mailto:joe.loughry@cs.du.edu}{joe.loughry@cs.du.edu}}}
\affil{and \href{https://netoir.com}{Netoir.com}}
\maketitle
\begin{abstract}
  LED reversing attacks depend on the relationship between LED photoelectric
  current and the logic threshold value of the connection GPIO.
\end{abstract}
\maketitle
\section{Introduction}
LED reversing attacks were introduced in an oral presentation at EMC Europe
2018 (Amsterdam) and first described in print in 2019 \cite{Loughry2019}.
\section{Theory of Operation}
Relationship between LED photocurrent, voltage, and the logic threshold of the
connection GPIO.
\section{Digital and Analogue GPIO pins}
This is only using digital pins. Analogue I/O pins, available on some
computers, open up a wider realm of possibility.
\subsection{Predictions}
\section{What Systems are Affected}
Arduino. Not the Raspberry Pi. Atmel ATSAMD21.
\subsection{Arduino}
Only the Arduino R1, b/c of the op-amp in R3.
\subsection{Voting Machines}
Example of what embedded systems might be at risk.
\bibliographystyle{plain}
\bibliography{consolidated_bibtex_file}
\appendix
\section{Arduino Sketches}
This was the first proof-of-concept to work correctly. It runs on an Adafruit
Trinket M0 (Atmel ATSAMD21). The red `L' LED flashes once a second (to make it
easier to aim the laser) and whenever it's dark, it's listening.
\begin{minted}{c}
// the setup function runs once when you press reset or power the board
void setup() {
  pinMode(LED_BUILTIN, OUTPUT);
  // Look in the Serial Monitor window for results.
  Serial.begin(9600);
}

// the loop function runs over and over again forever
void loop() {
  digitalWrite(LED_BUILTIN, HIGH);   // turn LED on
  delay(50);                         // 50 ms
  digitalWrite(LED_BUILTIN, LOW);    // turn the LED off
  // Following is the attack listening malware; it runs for 1 s.
  pinMode(LED_BUILTIN, INPUT);
  for (int i=0; i<5; i++) {
    int level = digitalRead(LED_BUILTIN);
    Serial.println(level);
    delay(200);
  }
  pinMode(LED_BUILTIN, OUTPUT);
}
\end{minted}
\end{document}

